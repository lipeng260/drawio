<mxfile host="app.diagrams.net" modified="2021-05-31T08:30:26.158Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36" etag="N4CpV2rKHu3KnnGvX9jD" version="14.7.3" type="github">
  <diagram id="DBg23Ft4EOHM_xaeqgFh" name="Page-1">
    <mxGraphModel dx="1345" dy="731" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="3gOpFJUrYChyAeatIPqP-2" value="" style="endArrow=none;dashed=1;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="612" as="sourcePoint" />
            <mxPoint x="791" y="612" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-3" value="私有部署" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="20" y="250" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-5" value="" style="endArrow=none;dashed=1;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="10" y="728" as="sourcePoint" />
            <mxPoint x="794" y="728" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-6" value="本地局域网" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="47" y="612" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-8" value="地磅边缘节点" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="310" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hYvKxtE7ZwwdJgqlN6lU-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3gOpFJUrYChyAeatIPqP-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="102" y="278" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-16" value="货主端app" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="42" y="119" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hYvKxtE7ZwwdJgqlN6lU-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3gOpFJUrYChyAeatIPqP-17" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="250" y="279" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-17" value="站台app" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190" y="119" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hYvKxtE7ZwwdJgqlN6lU-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3gOpFJUrYChyAeatIPqP-18" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="402" y="276" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-18" value="派车小程序" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="337" y="119" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-22" value="门禁控制" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="520" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hYvKxtE7ZwwdJgqlN6lU-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.907;entryY=-0.05;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="3gOpFJUrYChyAeatIPqP-25" target="3gOpFJUrYChyAeatIPqP-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-25" value="数字大屏" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="645" y="119" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-28" value="" style="endArrow=none;dashed=1;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="24" y="240" as="sourcePoint" />
            <mxPoint x="781" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-31" value="应用服务（火运模块、订单、磅单、结算、网关、ngxin负载均衡）" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="280" width="734" height="40" as="geometry" />
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-35" value="mqtt消息队列" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="610" y="508" width="174" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-36" value="mysql" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="460" y="498" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-50" value="公网" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="30" y="70" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="hYvKxtE7ZwwdJgqlN6lU-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3gOpFJUrYChyAeatIPqP-73" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="556" y="277" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3gOpFJUrYChyAeatIPqP-73" value="pc端" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="496" y="119" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hYvKxtE7ZwwdJgqlN6lU-7" value="&lt;h1&gt;说明&lt;/h1&gt;&lt;p&gt;1. 煤炭交易中心SaaS应用服务&lt;/p&gt;&lt;p&gt;为前端api提供高可用、负载均衡的分布式微服务架构解决方案，服务之间便于网络通信和数据共享，提高安全性和稳定性，大幅降低运维成本。&lt;/p&gt;&lt;p&gt;主要提供服务有：&lt;/p&gt;&lt;p&gt;发运微服务，门禁管理微服务，过磅查询微服务，统一网关。&lt;/p&gt;&lt;p&gt;2. 物联网平台服务&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;pingfang sc&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;arial&amp;#34; , &amp;#34;hiragino sans gb&amp;#34; , &amp;#34;microsoft yahei ui&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , &amp;#34;simsun&amp;#34; , sans-serif ; font-size: 14px&quot;&gt;物联网平台为设备提供安全可靠的连接通信能力，向下连接海量设备，支撑设备数据采集上云；向上提供云端API，服务端通过调用云端API将指令下发至设备端，实现远程控制。&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;pingfang sc&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;arial&amp;#34; , &amp;#34;hiragino sans gb&amp;#34; , &amp;#34;microsoft yahei ui&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , &amp;#34;simsun&amp;#34; , sans-serif ; font-size: 14px&quot;&gt;主要包含功能：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;接入轨道衡数据，地磅称重数据，进出场数据，装载机等实时数据。提供下发控制指令。&lt;/p&gt;&lt;p&gt;3. 大数据分析处理，预警。&lt;/p&gt;&lt;p class=&quot;MsoNormal&quot; style=&quot;margin: 0pt 0pt 0.0001pt ; text-align: justify ; font-size: 10.5pt&quot;&gt;&lt;span style=&quot;font-size: 12pt&quot;&gt;大数据分析组件负责将数据从各个业务系统数据源整合到数据中心，包括数据抽取、转换、加载、管理等流程，实现从业务系统采集数据，经过转换后装载到数据处理平台中。通过对生产系统、&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;calibri&amp;#34; ; font-size: 12pt&quot;&gt;&lt;font face=&quot;等线&quot;&gt;储煤基地生产与客户管理系统&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12pt&quot;&gt;以及外部系统接口进行详细的分析，并结合业务需求，实现对源系统的采集。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;4. 本地边缘节点采集&lt;/p&gt;&lt;p&gt;1. 通过隔离网闸接入轨道衡工控机，采集轨道衡保存在本地的称重文件。&lt;/p&gt;&lt;p&gt;地磅边缘节点连接红外对射、车号识别、道闸控制、语音播报、LED屏等设备，实现采集地磅数据，重量曲线等，便于追溯。&lt;/p&gt;&lt;p&gt;门禁通过iot物联网协议，实现车辆进出场控制。&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1092" y="202" width="275" height="447" as="geometry" />
        </mxCell>
        <mxCell id="tMehBcuiS7x0Ks0Ji6M1-3" value="轨道衡称重数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="90" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tMehBcuiS7x0Ks0Ji6M1-12" value="MQ消息队列" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="110" y="502" width="135" height="59" as="geometry" />
        </mxCell>
        <mxCell id="tMehBcuiS7x0Ks0Ji6M1-13" value="redis" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="317" y="500" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="tMehBcuiS7x0Ks0Ji6M1-16" value="&lt;h1&gt;硬件需求&lt;/h1&gt;&lt;p&gt;1. 私有云（青云或其他）&lt;/p&gt;&lt;p&gt;订单、磅单、火运微服务 （1核4G）* 2&lt;/p&gt;&lt;p&gt;仓库、结算微服务（1核4G）* 2&lt;/p&gt;&lt;p&gt;redis数据库-哨兵模式（1和2G）* 3&lt;/p&gt;&lt;p&gt;消息队列MQ&lt;/p&gt;&lt;p&gt;2. 本地局域网（硬件服务器）&lt;/p&gt;&lt;p&gt;过磅应用服务器&lt;/p&gt;&lt;p&gt;数据库服务器&lt;/p&gt;&lt;p&gt;存储&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2120" y="260" width="242" height="320" as="geometry" />
        </mxCell>
        <mxCell id="luoRpRS26hOoDK-j9A3D-1" value="gateway" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="luoRpRS26hOoDK-j9A3D-2" value="oauth" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="luoRpRS26hOoDK-j9A3D-4" value="火运" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="347" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="luoRpRS26hOoDK-j9A3D-5" value="汽运" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="496" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="luoRpRS26hOoDK-j9A3D-6" value="结算" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="640" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="luoRpRS26hOoDK-j9A3D-7" value="仓储" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="347" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="luoRpRS26hOoDK-j9A3D-8" value="nacos" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="luoRpRS26hOoDK-j9A3D-9" value="&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;arial&amp;#34; , sans-serif ; font-size: 13px&quot;&gt;prometheus&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="luoRpRS26hOoDK-j9A3D-11" value="基础模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="496" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="luoRpRS26hOoDK-j9A3D-12" value="权限控制" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="640" y="410" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
